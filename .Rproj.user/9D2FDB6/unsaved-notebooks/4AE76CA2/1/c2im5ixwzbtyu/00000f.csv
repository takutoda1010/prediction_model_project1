"0","# ========================================"
"0","# Test Setæ€§èƒ½å„ªä½æ€§ã®è©³ç´°èª¿æŸ»"
"0","# ========================================"
"0",""
"0","message(""\n"", paste(rep(""="", 60), collapse = """"))"
"2","
============================================================
"
"0","message(""INVESTIGATING TEST SET PERFORMANCE ADVANTAGE"")"
"2","INVESTIGATING TEST SET PERFORMANCE ADVANTAGE
"
"0","message(paste(rep(""="", 60), collapse = """"), ""\n"")"
"2","============================================================

"
"0","# 1. æ™‚ç³»åˆ—çš„ãªæ‚£è€…ç‰¹æ€§ã®å¤‰åŒ–"
"0","message(""ğŸ“Š 1. Temporal Trends in Patient Characteristics"")"
"2","ğŸ“Š 1. Temporal Trends in Patient Characteristics
"
"0","message(paste(rep(""-"", 50), collapse = """"))"
"2","--------------------------------------------------
"
"0","analyze_temporal_trends <- function(split_data) {"
"0","  results <- list()"
"0","  "
"0","  for (set_name in c(""train"", ""val"", ""test"")) {"
"0","    data <- split_data[[set_name]]"
"0","    "
"0","    # åŸºæœ¬çµ±è¨ˆ"
"0","    results[[set_name]] <- data.frame("
"0","      Dataset = set_name,"
"0","      N = nrow(data),"
"0","      "
"0","      # æ—¥ä»˜ç¯„å›²"
"0","      Start_Date = min(data$op_date, na.rm = TRUE),"
"0","      End_Date = max(data$op_date, na.rm = TRUE),"
"0","      "
"0","      # æ‚£è€…èƒŒæ™¯"
"0","      Age_Mean = mean(data$age, na.rm = TRUE),"
"0","      Male_Pct = mean(data$sex == ""M"", na.rm = TRUE) * 100,"
"0","      "
"0","      # è‚æ©Ÿèƒ½"
"0","      ALBI_Mean = mean(data$ALBIscore, na.rm = TRUE),"
"0","      ChildA_Pct = mean(data$child_pugh == ""A"", na.rm = TRUE) * 100,"
"0","      "
"0","      # è…«ç˜å› å­"
"0","      Tumor_Size = mean(data$max_diam_cm, na.rm = TRUE),"
"0","      Multiple_Pct = mean(data$count > 1, na.rm = TRUE) * 100,"
"0","      "
"0","      # ã‚¹ãƒ†ãƒ¼ã‚¸åˆ†å¸ƒ"
"0","      Stage_R_Pct = mean(data$stage_diag == ""R"", na.rm = TRUE) * 100,"
"0","      Stage_BR1_Pct = mean(data$stage_diag == ""BR1"", na.rm = TRUE) * 100,"
"0","      Stage_BR2_Pct = mean(data$stage_diag == ""BR2"", na.rm = TRUE) * 100,"
"0","      "
"0","      # è„ˆç®¡ä¾µè¥²"
"0","      MicroVI_Pct = mean(data$microVI == TRUE, na.rm = TRUE) * 100,"
"0","      MacroVI_Pct = mean(data$macroVI == TRUE, na.rm = TRUE) * 100,"
"0","      "
"0","      # ã‚¢ã‚¦ãƒˆã‚«ãƒ "
"0","      Recur_2y_Pct = mean(data$recur_2y == TRUE, na.rm = TRUE) * 100"
"0","    )"
"0","  }"
"0","  "
"0","  trend_table <- do.call(rbind, results)"
"0","  return(trend_table)"
"0","}"
"0",""
"0","trend_analysis <- analyze_temporal_trends(split_data_fixed)"
"2","Warning: Unknown or uninitialised column: `op_date`."
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: Unknown or uninitialised column: `op_date`."
"2","Warning: no non-missing arguments to max; returning -Inf"
"2","Warning: Unknown or uninitialised column: `op_date`."
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: Unknown or uninitialised column: `op_date`."
"2","Warning: no non-missing arguments to max; returning -Inf"
"2","Warning: Unknown or uninitialised column: `op_date`."
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: Unknown or uninitialised column: `op_date`."
"2","Warning: no non-missing arguments to max; returning -Inf"
"0","print(trend_analysis, digits = 1)"
