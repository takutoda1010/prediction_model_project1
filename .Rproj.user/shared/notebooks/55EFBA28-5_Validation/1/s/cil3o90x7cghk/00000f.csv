"0","cox_fits_sane <- lapply(names(cox_fits), function(nm){"
"0","  fit <- cox_fits[[nm]]"
"0","  co  <- try(stats::coef(fit), silent = TRUE)"
"0","  if (inherits(co, ""try-error"") || any(is.na(co))) {"
"0","    message(sprintf(""[sanitize] '%s': NA coefs detected -> refit"", nm))"
"0","    sanitize_cox_fit(fit, trv)"
"0","  } else fit"
"0","})"
"2","[sanitize] 'M1_StepAIC_forward': NA coefs detected -> refit
"
"2","[sanitize] 'M7_LASSO_postCox': NA coefs detected -> refit
"
"2","[sanitize] drop parents: liver_damage, tum_diam_pre_log1p
"
"0","names(cox_fits_sane) <- names(cox_fits)"
"0",""
"0","# Brier@24m 再計算"
"0","brier_test <- get_brier24(cox_fits_sane, tst)"
"0","brier_test"
