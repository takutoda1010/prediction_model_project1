"0","# 欠損30%以上は除外するが、recur_date / recur_2y は常に残す"
"0","always_keep <- ""recur_date"""
"0",""
"0","low_na <- names(ds05)[colMeans(is.na(ds05)) < 0.30]"
"0","cols_keep <- intersect(names(ds05), unique(c(always_keep, low_na)))  # 元の列順で"
"0",""
"0","ds06 <- ds05 |> dplyr::select(dplyr::all_of(cols_keep))"
"0",""
"0","# 確認（どちらも残っているはず）"
"0","setdiff(always_keep, names(ds06))"
"1","character(0)
"
"0","c(ncol_before = ncol(ds05), ncol_after = ncol(ds06))"
"1","ncol_before "
"1"," ncol_after "
"1","
"
"1","         95 "
"1","         76 "
"1","
"
