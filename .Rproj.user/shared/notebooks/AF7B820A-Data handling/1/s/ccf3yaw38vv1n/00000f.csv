"0","# num（連番）"
"0","ds01 <- ds01 |>"
"0","  mutate(num = suppressWarnings(as.numeric(Num)))"
"2","mutate: no changes"
"0","# group（Con/NAC vs others）ref = ""others"""
"0","ds01 <- ds01 |>"
"0","  mutate(group = {"
"0","    g0 <- str_squish(tolower(as.character(Group)))"
"0","    fct_relevel(factor(ifelse(g0 %in% c(""con"",""nac"",""conversion"",""術前化学療法""),"
"0","                              ""ConNAC"",""others"")),"
"0","                 ""others"")  # reference"
"0","  })"
"2","mutate: no changes"
"0","# 手術時/診断時 R/BR1/BR2（ref = ""R""）"
"0","if (""手術時群分け R/BR1/BR2"" %in% names(ds01))"
"0","  ds01 <- ds01 |> mutate(stage_surg = factor(`手術時群分け R/BR1/BR2`, levels = c(""R"",""BR1"",""BR2"")))"
"2","mutate: no changes"
"0","if (""診断時群分け R/BR1/BR2"" %in% names(ds01))"
"0","  ds01 <- ds01 |> mutate(stage_diag = factor(`診断時群分け R/BR1/BR2`, levels = c(""R"",""BR1"",""BR2"")))"
"2","mutate: no changes"
"0","# 群分け R/BR（BR1/BR2 を BR に寄せ、ref = ""R""）"
"0","if (""群分け R/BR"" %in% names(ds01))"
"0","  ds01 <- ds01 |>"
"0","    mutate(group_rb = {"
"0","      x <- str_squish(as.character(`群分け R/BR`))"
"0","      x <- ifelse(x %in% c(""BR1"",""BR2""), ""BR"", x)"
"0","      factor(x, levels = c(""R"",""BR""))  # reference = ""R"""
"0","    })"
"0",""
