"0","# ds01 に英語名を作成（既に作っていればスキップ）"
"0","ds01 <- ds01 |>"
"0","  mutate(first_visit_dt = if (""初診日"" %in% names(ds01)) as_date_safely(`初診日`) else first_visit_dt) |>"
"0","  mutate(adm_dt         = if (""入院日"" %in% names(ds01)) as_date_safely(`入院日`) else adm_dt) |>"
"0","  mutate(plt   = if (""Plt"" %in% names(ds01)) as.numeric(Plt) else plt) |>"
"0","  mutate(alb   = if (""Alb"" %in% names(ds01)) as.numeric(Alb) else alb) |>"
"0","  mutate(tbil  = if (""Bil"" %in% names(ds01)) as.numeric(Bil) else tbil) |>"
"0","  mutate(che   = if (""ChE"" %in% names(ds01)) as.numeric(ChE) else che) |>"
"0","  mutate(ast   = if (""GOT"" %in% names(ds01)) as.numeric(GOT) else ast) |>"
"0","  mutate(alt   = if (""GPT"" %in% names(ds01)) as.numeric(GPT) else alt) |>"
"0","  mutate(nh3   = if (""AMN"" %in% names(ds01)) as.numeric(AMN) else nh3) |>"
"0","  mutate(pt_inr= if (""PT""  %in% names(ds01)) as.numeric(PT)  else pt_inr)"
"2","mutate: new variable 'first_visit_dt' (Date) with 752 unique values and 6% NA"
"2","mutate: new variable 'adm_dt' (Date) with 935 unique values and 1% NA"
"2","mutate: new variable 'plt' (double) with 307 unique values and <1% NA"
"2","mutate: new variable 'alb' (double) with 29 unique values and <1% NA"
"2","mutate: new variable 'tbil' (double) with 28 unique values and <1% NA"
"2","mutate: new variable 'che' (double) with 305 unique values and 3% NA"
"2","mutate: new variable 'ast' (double) with 132 unique values and <1% NA"
"2","mutate: new variable 'alt' (double) with 131 unique values and <1% NA"
"2","mutate: new variable 'nh3' (double) with 60 unique values and 88% NA"
"2","mutate: new variable 'pt_inr' (double) with 436 unique values and <1% NA"
"0","# モデル列に確実に追加"
"0","sel_cols <- unique(c(sel_cols,"
"0","  ""first_visit_dt"",""adm_dt"",""plt"",""alb"",""tbil"",""che"",""ast"",""alt"",""nh3"",""pt_inr""))"
"0","ds01_model <- ds01 |> dplyr::select(dplyr::any_of(sel_cols))"
