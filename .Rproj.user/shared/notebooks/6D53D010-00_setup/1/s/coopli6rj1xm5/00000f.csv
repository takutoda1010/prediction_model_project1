"0","# ========================================================================"
"0","# 3. グローバル設定"
"0","# ========================================================================"
"0",""
"0","#' プロジェクトのグローバル設定を行う関数"
"0","#' @param config_path 設定ファイルのパス"
"0","setup_global_options <- function(config_path = NULL) {"
"0","  "
"0","  # R全般の設定"
"0","  options("
"0","    stringsAsFactors = FALSE,        # 文字列を自動的に因子にしない"
"0","    scipen = 10,                      # 科学的記数法の抑制"
"0","    digits = 4,                       # 表示桁数"
"0","    max.print = 1000,                 # 最大表示行数"
"0","    warn = 1,                         # 警告を即座に表示"
"0","    tidyverse.quiet = TRUE,           # tidyverseの起動メッセージ抑制"
"0","    dplyr.summarise.inform = FALSE   # dplyrのグループ化メッセージ抑制"
"0","  )"
"0","  "
"0","  # ggplot2のデフォルトテーマ設定"
"0","  if (""ggplot2"" %in% .packages()) {"
"0","    theme_set("
"0","      theme_minimal(base_size = 12) +"
"0","        theme("
"0","          plot.title = element_text(face = ""bold"", hjust = 0.5),"
"0","          strip.background = element_rect(fill = ""grey90"", color = NA),"
"0","          panel.grid.minor = element_blank(),"
"0","          legend.position = ""bottom"""
"0","        )"
"0","    )"
"0","  }"
"0","  "
"0","  # 日本語フォント設定（Mac/Windows対応）"
"0","  if (Sys.info()[""sysname""] == ""Darwin"") {  # Mac"
"0","    if (""ggplot2"" %in% .packages()) {"
"0","      theme_update(text = element_text(family = ""HiraKakuProN-W3""))"
"0","    }"
"0","  } else if (Sys.info()[""sysname""] == ""Windows"") {  # Windows"
"0","    if (""ggplot2"" %in% .packages()) {"
"0","      theme_update(text = element_text(family = ""Yu Gothic""))"
"0","    }"
"0","  }"
"0","  "
"0","  # 乱数シード設定（設定ファイルから読み込み）"
"0","  if (!is.null(config_path) && file.exists(config_path)) {"
"0","    config <- yaml::read_yaml(config_path)"
"0","    if (!is.null(config$model$seed)) {"
"0","      set.seed(config$model$seed)"
"0","      message(sprintf(""Random seed set to: %d"", config$model$seed))"
"0","    }"
"0","  } else {"
"0","    set.seed(20251102)  # デフォルトシード"
"0","    message(""Using default random seed: 20251102"")"
"0","  }"
"0","  "
"0","  invisible(NULL)"
"0","}"
