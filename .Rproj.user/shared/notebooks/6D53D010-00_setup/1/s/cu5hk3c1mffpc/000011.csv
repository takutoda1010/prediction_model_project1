"0","# ========================================================================"
"0","# 2. 必要パッケージの定義と読み込み"
"0","# ========================================================================"
"0",""
"0","# コアパッケージ"
"0","core_packages <- c("
"0","  # データ操作"
"0","  ""tidyverse"",      # dplyr, tidyr, ggplot2等を含む"
"0","  ""data.table"",     # 高速データ処理"
"0","  "
"0","  # データ読み込み"
"0","  ""readxl"",         # Excel読み込み"
"0","  ""yaml"",           # YAML設定ファイル読み込み"
"0","  ""readr"",          # CSV読み込み（高速）"
"0","  "
"0","  # データ処理"
"0","  ""lubridate"",      # 日付処理"
"0","  ""stringr"",        # 文字列処理"
"0","  ""forcats"",        # 因子処理"
"0","  "
"0","  # 統計・モデリング"
"0","  ""survival"",       # 生存分析"
"0","  ""glmnet"",        # LASSO/Ridge回帰"
"0","  ""MASS"",          # stepAIC"
"0","  ""caret"",         # 機械学習フレームワーク"
"0","  "
"0","  # 評価・診断"
"0","  ""survminer"",     # 生存分析可視化"
"0","  ""pROC"",          # ROC分析"
"0","  ""timeROC"",       # 時間依存ROC"
"0","  ""rms"",           # 回帰モデリング戦略"
"0","  ""prodlim"",       # 生存確率推定"
"0","  ""cmprsk"",        # 競合リスク"
"0","  ""riskRegression"", # リスク予測"
"0","  "
"0","  # 可視化"
"0","  ""ggplot2"",       # グラフ作成"
"0","  ""plotly"",        # インタラクティブプロット"
"0","  ""ggsci"",         # 科学論文用カラーパレット"
"0","  ""patchwork"",     # 図の結合"
"0","  ""gt"",            # 美しいテーブル作成"
"0","  "
"0","  # レポート"
"0","  ""knitr"",         # 動的レポート生成"
"0","  ""rmarkdown"",     # Markdownレポート"
"0","  "
"0","  # その他ユーティリティ"
"0","  ""here"",          # プロジェクトパス管理"
"0","  ""logger""         # ログ管理"
"0",")"
"0",""
"0","# オプションパッケージ（エラーが出ても続行）"
"0","optional_packages <- c("
"0","  ""DataExplorer"",  # EDA"
"0","  ""VIM"",           # 欠損値可視化"
"0","  ""mice"",          # 多重代入法"
"0","  ""sandwich"",      # ロバスト標準誤差"
"0","  ""lmtest"",        # 統計検定"
"0","  ""tableone""       # Table 1作成"
"0",")"
"0",""
"0","# パッケージの読み込み実行"
"0","message(""\n=== Loading Core Packages ==="")"
"2","
=== Loading Core Packages ===
"
"0","ensure_packages(core_packages)"
"2","========================================
"
"2","Installing missing packages...
"
"2","========================================
"
"2","  Installing: caret
"
"2","also installing the dependencies ‘cli’, ‘rlang’, ‘tzdb’, ‘cpp11’, ‘clock’, ‘gower’, ‘hardhat’, ‘ipred’, ‘sparsevctrs’, ‘timeDate’, ‘ModelMetrics’, ‘recipes’

"
"2","  Installing: here
"
"2","also installing the dependency ‘rprojroot’

"
"2","  Installing: logger
"
"2","Installation completed.
"
"0","message(""\n=== Loading Optional Packages ==="")"
"2","
=== Loading Optional Packages ===
"
"0","suppressWarnings({"
"0","  for (pkg in optional_packages) {"
"0","    if (!requireNamespace(pkg, quietly = TRUE)) {"
"0","      message(sprintf(""Optional package '%s' not available. Skipping."", pkg))"
"0","    } else {"
"0","      library(pkg, character.only = TRUE, quietly = TRUE)"
"0","    }"
"0","  }"
"0","})"
"2","Optional package 'VIM' not available. Skipping.
"
"2","Optional package 'mice' not available. Skipping.
"
