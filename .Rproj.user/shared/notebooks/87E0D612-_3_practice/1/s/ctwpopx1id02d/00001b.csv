"0","# ds01_model が存在する前提"
"0","stopifnot(exists(""ds01_model""))"
"0","df <- ds01_model"
"0","n  <- nrow(df)"
"0",""
"0","names_vec <- names(df)"
"0","cls       <- sapply(df, function(x) class(x)[1])"
"0","n_miss    <- sapply(df, function(x) sum(is.na(x)))"
"0","pct_miss  <- round(100 * n_miss / pmax(n, 1), 1)"
"0","n_unique  <- sapply(df, function(x) length(unique(x[!is.na(x)])))"
"0","example   <- sapply(df, function(x){"
"0","  v <- x[!is.na(x)]"
"0","  if (length(v) == 0) return("""")"
"0","  paste(head(as.character(v), 3), collapse = "", "")"
"0","})"
"0",""
"0","out <- data.frame("
"0","  name      = names_vec,"
"0","  class     = cls,"
"0","  n         = n,"
"0","  n_miss    = n_miss,"
"0","  pct_miss  = pct_miss,"
"0","  n_unique  = n_unique,"
"0","  example   = example,"
"0","  stringsAsFactors = FALSE"
"0",")"
"0",""
"0","# 名前順で見やすく"
"0","out <- out[order(out$name), ]"
"0",""
"0","# 画面に表として表示（コピペしやすい）"
"0","print(out, row.names = FALSE)"
