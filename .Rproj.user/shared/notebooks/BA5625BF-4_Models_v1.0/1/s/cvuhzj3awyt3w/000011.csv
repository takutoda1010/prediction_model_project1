"0","## ==== CHUNK M7-4: post-LASSO Cox on Train+Val, then Test evaluation ========="
"0","model_name_m7 <- ""M7_LASSO_postCox"""
"0",""
"0","if (length(sel_vars)) {"
"0","  form_post <- as.formula(paste(""Surv(time2y, event2y) ~"", paste(sel_vars, collapse = "" + "")))"
"0","  fit_m7 <- coxph(form_post, data = trv, x = TRUE, y = TRUE)"
"0","} else {"
"0","  fit_m7 <- coxph(Surv(time2y, event2y) ~ 1, data = trv, x = TRUE, y = TRUE)"
"0","  message(""[M7] No variables selected by LASSO; fitted Null Cox."")"
"0","}"
"0",""
"0","# Test で評価（既存ヘルパを利用）"
"0","res_m7 <- eval_model(fit_m7, tst, model_name_m7)"
"1","
[M7_LASSO_postCox] Harrell's C = 0.740 (SE=0.033) 95%CI [0.676, 0.804]
"
